(this["webpackJsonplasa-schedules-editor"]=this["webpackJsonplasa-schedules-editor"]||[]).push([[0],{49:function(e,n,t){},61:function(e,n,t){},64:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(16),l=t.n(r),i=(t(49),t(34)),s=t(67),u=t(73),o=t(75),d=t(68),h=t(69),j=t(41),b=t(39),v=t.n(b),m=t(74),O=t(72),x=t(77),g=t(66),p=t(70),f=t(40),y=t(76),C=t(71);function S(e,n){var t=e.split(":"),a=n.split(":");return 2===t.length&&2===a.length?60*(parseInt(t[0])-parseInt(a[0]))+(parseInt(t[1])-parseInt(a[1])):0}var w=t(1);function k(e){function n(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?e.value.startTime=n.target.value:e.value.endTime=n.target.value,e.value.runTime=S(e.value.endTime,e.value.startTime).toString(),e.onChange(e.value)}return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(y.a.Item,{children:[Object(w.jsxs)(p.a,{children:[Object(w.jsxs)(p.a.Group,{controlId:Object(C.a)(),children:[Object(w.jsx)(p.a.Label,{children:"Period Name"}),Object(w.jsx)(p.a.Control,{type:"text",placeholder:"Enter a name",value:e.value.name,onChange:function(n){e.value.name=n.target.value,e.onChange(e.value)}})]}),e.value.endTime<=e.value.startTime?Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(m.a,{variant:"warning",children:"Your end time is before or equal to your start time."})}):null,Object(w.jsxs)(p.a.Group,{children:[Object(w.jsx)(p.a.Label,{style:{display:"block"},children:"Period Start - End"}),Object(w.jsx)(p.a.Control,{type:"time",value:e.value.startTime,className:"inline-auto time-width",onChange:function(e){return n(e,!0)}})," - ",Object(w.jsx)(p.a.Control,{type:"time",value:e.value.endTime,className:"inline-auto time-width",onChange:function(e){return n(e,!1)}})]}),Object(w.jsxs)("p",{children:["Period Run Time: ",e.value.runTime]})]}),Object(w.jsx)(j.a,{variant:"danger",size:"sm",onClick:function(){return e.removePeriod()},children:"\xd7 Delete Period"})]})})}var N=function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:"Periods:"}),Object(w.jsx)(y.a,{className:"mb-2",children:e.value.map((function(n,t){return Object(w.jsx)(k,{value:n,index:t,onChange:function(n){return a=t,c=n,e.value[a]=c,void e.onChange(e.value);var a,c},removePeriod:function(){return n=t,e.value.splice(n,1),void e.onChange(e.value);var n}},t)}))}),Object(w.jsx)(j.a,{variant:"primary",onClick:function(){return e.value.push({name:"New Period",startTime:"",endTime:"",runTime:"0"}),void e.onChange(e.value)},children:"+ Add New Period"})]})};var A=function(e){function n(e){var n=new Date(e);return isNaN(n)?"":n.toISOString().split("T")[0]}function t(n,t){if(e.value){var a=t.target.valueAsDate.toLocaleDateString("en-US",{timeZone:"UTC"});n.length>1?e.value[n[0]][n[1]]=a:e.value[n[0]]=a,e.onChange(e.value)}}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h5",{children:"Dates:"}),0===e.index?Object(w.jsx)(m.a,{variant:"secondary",children:"On the default schedule, dates override schedules that apply on a certain day of the week."}):null,e.value?e.value.map((function(a,c){return Object(w.jsxs)("div",{className:"mb-2",children:[a instanceof Array?Object(w.jsxs)(w.Fragment,{children:[n(a[1])<=n(a[0])?Object(w.jsx)(m.a,{variant:"warning",children:"Your end date is before or on your start date."}):null,Object(w.jsx)(p.a.Control,{type:"date",value:n(a[0]),className:"inline-auto",onChange:function(e){return t([c,0],e)}})," - ",Object(w.jsx)(p.a.Control,{type:"date",value:n(a[1]),className:"inline-auto",onChange:function(e){return t([c,1],e)}})]}):Object(w.jsx)(p.a.Control,{type:"date",value:n(a),className:"inline-auto",onChange:function(e){return t([c],e)}}),Object(w.jsx)(j.a,{variant:"danger",className:"ml-3",title:"Remove",onClick:function(){return n=c,void(e.value&&(e.value.splice(n,1),e.onChange(e.value)));var n},children:"\xd7"})]},c)})):null,Object(w.jsx)(j.a,{variant:"primary",onClick:function(){return function(){var n;e.value&&e.value.push(""),e.onChange(null!==(n=e.value)&&void 0!==n?n:[""])}()},children:"+ Add new date"}),Object(w.jsx)(j.a,{variant:"primary",className:"ml-3",onClick:function(){return function(){var n;e.value&&e.value.push(["",""]),e.onChange(null!==(n=e.value)&&void 0!==n?n:[["",""]])}()},children:"+ Add new date range"})]})};function T(e){var n=e.schedule.name?e.schedule.name:"Untitled";return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(x.a,{children:[Object(w.jsxs)(x.a.Header,{children:[Object(w.jsxs)(O.a.Toggle,{as:j.a,variant:"link",eventKey:e.index.toString(),children:["#",e.index,": ",n,0===e.index?Object(w.jsx)(g.a,{variant:"primary",className:"ml-2",children:"Default"}):null]}),Object(w.jsx)(j.a,{className:"float-right",variant:"danger",onClick:function(){return e.removeSchedule()},children:"\xd7"})]}),Object(w.jsx)(O.a.Collapse,{eventKey:e.index.toString(),children:Object(w.jsxs)(x.a.Body,{children:[0===e.index?Object(w.jsx)(m.a,{variant:"info",children:"This schedule is the default schedule, so it's always used when a special schedule is not in place."}):null,Object(w.jsxs)(p.a,{children:[Object(w.jsxs)(p.a.Group,{controlId:Object(C.a)(),children:[Object(w.jsx)(p.a.Label,{children:"Schedule Name"}),Object(w.jsx)(p.a.Control,{type:"text",placeholder:"Enter a name",value:e.schedule.name,onChange:function(n){e.schedule.name=n.target.value,e.setSchedule(e.schedule)}})]}),Object(w.jsx)(p.a.Check,{checked:e.schedule.combinedAB||!1,label:"Combined A/B Period Names?",onChange:function(n){e.schedule.combinedAB=n.target.checked,e.setSchedule(e.schedule)},type:"checkbox",id:Object(C.a)()}),Object(w.jsx)(p.a.Check,{checked:void 0!==e.schedule.applyDay,label:"Apply schedule on a certain day(s) of the week?",type:"checkbox",id:Object(C.a)(),onChange:function(n){e.schedule.applyDay=n.target.checked?[1]:void 0,e.setSchedule(e.schedule)}}),void 0!==e.schedule.applyDay?Object(w.jsx)(p.a.Control,{as:"select",multiple:!0,id:Object(C.a)(),onChange:function(n){e.schedule.applyDay=Array.from(n.target.selectedOptions,(function(e){return parseInt(e.value)})),e.setSchedule(e.schedule)},children:["Monday","Tuesday","Wednesday","Thursday","Friday"].map((function(n,t){return Object(w.jsxs)("option",{value:(t+1).toString(),selected:e.schedule.applyDay&&e.schedule.applyDay.includes(t+1),children:[t+1," - ",n]},t)}))}):null,Object(w.jsx)("hr",{}),Object(w.jsx)(A,{onChange:function(n){e.schedule.dates=n,e.setSchedule(e.schedule)},value:e.schedule.dates,index:e.index})]}),Object(w.jsx)("hr",{}),Object(w.jsx)(N,{onChange:function(n){e.schedule.schedule=n,e.setSchedule(e.schedule)},value:e.schedule.schedule})]})})]})})}var P=function(e){var n="",t=[];try{t=Object(f.parse)(e.value)}catch(c){n=c.toString()}function a(e){return JSON.stringify(e,null,4)}return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:"Edit your schedules here."}),n?Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(m.a,{variant:"danger",children:[Object(w.jsx)("p",{children:"Sorry, your schedule could not be parsed. Please fix the JSON on the left to continue."}),Object(w.jsx)("p",{className:"mb-0",children:Object(w.jsx)("b",{children:"Error Message:"})}),Object(w.jsx)("pre",{children:n})]})}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("p",{children:Object(w.jsx)(j.a,{variant:"primary",onClick:function(n){t.push({name:"New Schedule",combinedAB:!1,dates:[],schedule:[]}),e.onChange(a(t))},children:"+ Add New Schedule"})}),Object(w.jsx)(O.a,{defaultActiveKey:"0",className:"mb-3",children:t.map((function(n,c){return Object(w.jsx)(T,{schedule:n,setSchedule:function(n){return function(n,c){t[n]=c,e.onChange(a(t))}(c,n)},index:c,removeSchedule:function(){return n=c,t.splice(n,1),void e.onChange(a(t));var n}},c)}))}),Object(w.jsxs)("p",{children:["Once you're done editing your schedules here, head back over to the JSON Code tab and copy and paste your newly-created schedules into the ",Object(w.jsx)("a",{href:"https://github.com/camtheman256/lasa-schedules-data",children:"LASA Schedules Data repository"}),"."]})]})]})};t(60),t(61),t(62),t(63);function D(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(u.a,{bg:"light",expand:"md",children:[Object(w.jsx)(u.a.Brand,{children:"LASA Schedules Editor"}),Object(w.jsx)(u.a.Toggle,{"aria-controls":"navbar"}),Object(w.jsx)(u.a.Collapse,{id:"navbar",children:Object(w.jsx)(o.a,{className:"ml-auto",children:Object(w.jsx)(o.a.Link,{href:"https://github.com/camtheman256/lasa-schedules-data/blob/master/README.md",target:"_blank",children:"\u2197 Schedules Documentation"})})})]})})}function F(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("h3",{style:{display:"inline"},children:"Pick a view to edit your schedules:"}),Object(w.jsx)(d.a,{toggle:!0,className:"ml-3",children:[{name:"JSON Code",value:0},{name:"Graphical Editor",value:1}].map((function(n,t){return Object(w.jsx)(h.a,{type:"radio",variant:"primary",checked:e.visiblePane===n.value,value:n.value,onChange:function(){return e.changeView(n.value)},children:n.name},t)}))})]})})}function I(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{children:"Paste your schedules JSON here."}),Object(w.jsx)("p",{children:Object(w.jsx)(j.a,{variant:"link",onClick:function(n){e.downloadSchedule()},children:"Or, download the live schedules from the LASA Schedules API."})}),Object(w.jsx)(v.a,{mode:"json",theme:"github",value:e.value,onChange:function(n,t){e.onChange(n)},width:"auto",height:"750px",fontSize:14})]})}var E=function(){var e=Object(a.useState)("[]"),n=Object(i.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(0),l=Object(i.a)(r,2),u=l[0],o=l[1];function d(e){c(e)}var h=[Object(w.jsx)(I,{onChange:d,value:t,downloadSchedule:function(){fetch("https://schedules-data.lasa2019.com/schedule.json").then((function(e){return e.text()})).then((function(e){return c(e)}))}}),Object(w.jsx)(P,{onChange:d,value:t})];return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(D,{}),Object(w.jsxs)(s.a,{className:"mt-3",children:[Object(w.jsx)(F,{changeView:function(e){o(e)},visiblePane:u}),Object(w.jsx)("hr",{}),h[u]]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(E,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.29f1314c.chunk.js.map